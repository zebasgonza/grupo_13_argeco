<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head')  %>
    <link rel="stylesheet" href="/css/register.css">
</head>
<title>Registro</title>
</head>

<body>
    <%- include('../partials/header')  %>
    <link rel="stylesheet" href="/css/index.css">
    
    <main>

        <h1>Registro</h1>
        <form action="/users" method="post" enctype="multipart/form-data"> <!-- atributo para permitir enviar archivos (img,docs) con el fin de que los codifique para que el servidor los reciba -->
            <label for="nombre">Nombre</label>
            <input 
             type="text"
             id="" 
             name="nombre" 
            class="form-control <%= locals.errors && errors.nombre ? 'is-invalid' : null %>"
            value="<%= locals.oldData ? oldData.nombre : null %>">
            
            <% if (locals.errors && errors.nombre) { %>
                <div class="text-danger">
                    <%= errors.nombre.msg %> 
                </div>
            <% } %>

            <label for="apellido">Apellido</label>
            <input 
            type="text"
             id="" 
             name="apellido" 
            class="form-control <%= locals.errors && errors.apellido? 'is-invalid' : null %>"
            value="<%= locals.oldData ? oldData.apellido : null %>">

            <% if (locals.errors && errors.apellido) { %>
                <div class="text-danger">
                    <%= errors.apellido.msg %> 
                </div>
            <% } %>

            <label for="email">Email</label>
            <input 
            type="email" 
            id="" 
            name="email" 
            class="form-control <%= locals.errors && errors.email ? 'is-invalid' : null %>"
            value="<%= locals.oldData ? oldData.email : null %>">

            <% if (locals.errors && errors.email) { %>
                <div class="text-danger">
                    <%= errors.email.msg %> 
                </div>
            <% } %>

            <label for="image">Foto de perfil</label>
            <input 
            type="file" 
            id="" 
            name="image" 
            accept="image/*" 
            class="form-control <%= locals.errors && errors.image ? 'is-invalid' : null %>"
            value="<%= locals.oldData ? oldData.image : null %>">

            <% if (locals.errors && errors.image) { %>
                <div class="text-danger">
                    <%= errors.image.msg %> 
                </div>
            <% } %>

            <label for="password">Contrase√±a</label>
            <input 
            type="password" 
            id="" 
            name="contrasena" 
            class="form-control <%= locals.errors && errors.contrasena ? 'is-invalid' : null %>"
            value="<%= locals.oldData ? oldData.contrasena : null %>">

            <% if (locals.errors && errors.contrasena) { %>
                <div class="text-danger">
                    <%= errors.contrasena.msg %> 
                </div>
            <% } %>


            <input type="submit" value="Registrarse">
        </form>
</body>

</main>
<%- include('../partials/footer') %>
</html>